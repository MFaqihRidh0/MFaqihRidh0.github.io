<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Smart Farming Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
      :root{ --card-radius: 1rem; }
      body{ background:#f6f8fb; display:flex; min-height:100vh; flex-direction:column; }
      /* Header lebih kecil, biru */
      .app-navbar{
        background: #0d6efd; /* biru bootstrap */
      }
      .app-navbar .navbar-brand{ letter-spacing:.3px }
      .app-navbar .form-control{ background: rgba(255,255,255,.12); color:#fff; border:none; }
      .app-navbar .form-control::placeholder{ color: rgba(255,255,255,.8); }
      /* Ikon kanan rata & sedikit lebih besar */
      .navbar-icons .nav-link{ display:inline-flex; align-items:center; justify-content:center; }
      .navbar-icons .bi{ font-size:1.6rem; line-height:1; }
      /* Kartu metrik */
      .metric-card{
        border:none; border-radius:var(--card-radius);
        box-shadow:0 6px 18px rgba(27,39,94,.06); background:#fff;
      }
      .metric-accent{ width:5px; border-radius:5px 0 0 5px; }
      .value{ font-weight:700; font-size:1.4rem; }
      .unit{ font-weight:500; opacity:.85 }
      .card-title{ font-size:.8rem; letter-spacing:.02em; opacity:.75; margin-bottom:.35rem }
      /* Footer biru */
      footer{ background:#0d6efd; color:#fff; }
    </style>
  </head>
  <body>
    <!-- Header (diperkecil, biru) -->
    <header class="app-navbar navbar navbar-dark sticky-top py-2 shadow">
      <div class="container-fluid px-3">
        <a href="#" class="navbar-brand fw-bold">Faqih's Farm</a>

        <form class="d-none d-md-flex me-3 ms-auto" role="search" style="width:360px">
          <input type="search" class="form-control me-2" placeholder="Cari data sensor…" aria-label="Search">
          <button class="btn btn-light" type="submit"><i class="bi bi-search"></i></button>
        </form>

        <!-- Ikon kanan: dibuat sejajar & lebih besar -->
        <ul class="navbar-nav navbar-icons flex-row align-items-center gap-3">
          <li class="nav-item"><a class="nav-link text-white" href="#" aria-label="Notifikasi"><i class="bi bi-bell"></i></a></li>
          <li class="nav-item"><a class="nav-link text-white" href="#" aria-label="Profil"><i class="bi bi-person-circle"></i></a></li>
        </ul>
      </div>
    </header>

    <!-- Main -->
    <main class="flex-grow-1">
      <div class="container-fluid px-4 py-4">
        <h2 class="mb-3">Smart Farming</h2>

        <!-- Metrics grid -->
        <div class="row g-3">
          <!-- 1. Kelembaban -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-primary"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-primary fw-semibold">Kelembaban (RH)</div>
                    <div class="value">54 <span class="unit">%</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 2. TDS -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-success"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-success fw-semibold">TDS</div>
                    <div class="value">400 <span class="unit">ppm</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 3. Kekeruhan -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-info"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-info fw-semibold">Kekeruhan (Turbid)</div>
                    <div class="value">18 <span class="unit">NTU</span></div>
                    <div class="progress mt-2" role="progressbar" aria-label="Turbidity" aria-valuenow="18" aria-valuemin="0" aria-valuemax="100" style="height:6px">
                      <div class="progress-bar" style="width: 18%"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 4. Temperatur Air -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-warning"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-warning fw-semibold">Temperatur Air (wtemp)</div>
                    <div class="value">25 <span class="unit">°C</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 5. Aliran Air -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-danger"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-danger fw-semibold">Aliran Air (wflow)</div>
                    <div class="value">34</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 6. Oksigen Terlarut -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-primary"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-primary fw-semibold">Oksigen Terlarut (Diss. Oxygen)</div>
                    <div class="value">10 <span class="unit">ppm</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 7. Intensitas Cahaya -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-success"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-success fw-semibold">Intensitas Cahaya (Lux)</div>
                    <div class="value">100 <span class="unit">Lux</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 8. Temperatur Udara -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-info"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-info fw-semibold">Temperatur Udara (amtemp)</div>
                    <div class="value">34 <span class="unit">°C</span></div>
                    <div class="progress mt-2" role="progressbar" aria-label="Air Temp" aria-valuenow="34" aria-valuemin="0" aria-valuemax="50" style="height:6px">
                      <div class="progress-bar" style="width: 68%"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 9. EC -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-warning"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-warning fw-semibold">EC</div>
                    <div class="value">2</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 10. pH -->
          <div class="col-12 col-sm-6 col-lg-3 col-xxl-2">
            <div class="metric-card card h-100">
              <div class="row g-0">
                <div class="col-auto metric-accent bg-danger"></div>
                <div class="col">
                  <div class="card-body">
                    <div class="card-title text-uppercase text-danger fw-semibold">pH</div>
                    <div class="value">7.1</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Chart.js: Temperatur Air -->
        <div class="card metric-card mt-4">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="mb-0"><i class="bi bi-activity me-2"></i> Tren Temperatur Air (°C)</h5>
              <div class="text-muted small">24 jam terakhir</div>
            </div>
            <canvas id="waterTempChart" height="100"></canvas>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer biru + kredit -->
    <footer class="py-3 mt-auto">
      <div class="container-fluid px-4">
        <div class="d-flex flex-column flex-sm-row justify-content-between align-items-center">
          <div class="small">© 2025</div>
          <div class="fw-semibold">M.Faqih Ridho-5027241123</div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.5.0/chart.umd.min.js"></script>
    <script>
      // Data demo 24 jam
      const hours = Array.from({length: 24}, (_, i) => i + ':00');
      const temps = [24,24,24,24,25,25,26,26,27,27,27,28,28,29,29,29,28,28,27,27,26,26,25,25];

      const ctx = document.getElementById('waterTempChart');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: hours,
          datasets: [{
            label: 'Temperatur Air',
            data: temps,
            tension: 0.35,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { display: true }, tooltip: { mode: 'index', intersect: false } },
          interaction: { mode: 'nearest', axis: 'x', intersect: false },
          scales: {
            y: { beginAtZero: false, title: { display: true, text: '°C' } },
            x: { title: { display: true, text: 'Waktu' } }
          }
        }
      });
    </script>
  </body>
</html>
